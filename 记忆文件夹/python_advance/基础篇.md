## 1 Jupyter Notebook

****

1. 安装

   ```shell
   pip3 install jupyter
   ```

2. 启动

   ```shell
   # 默认启动端口是8888
   jupyter notebook
   
   # 指定端口启动
   jupyter notebook --port $portNum
   ```

3. Google Research在线环境

   ```shell
   https://colab.research.google.com/notebooks/basic_features_overview.ipynb
   ```



## 2 元组和列表

***



### 2-1 基础概念

***

1. 都是存放任意数据类型的集合

   ```python
   l = [1, 2 , 'hello', 'world']
   tup = ('jason', 22)
   ```

2. 列表动态(类似c++的vector),元组固定(类似c++的const array)

   ```python
   l = [1, 2, 3, 4]
   l[3] = 40
   
   tup = (1, 2, 3, 4)
   tup[3] = 40  # 此处报错,元组无法修改
   ```

   ```python
   # 增加元素
   tup = (1, 2, 3, 4)
   new_tup = tup + (5,)
   
   l = [1,2,3,4]
   l.append(5)
   ```

3. 基本操作

   + 支持负数索引

     ```python
     l = [1, 2, 3, 4]
     
     tup = (11, 22, 33, 44)
     
     print(l[-1])
     
     print(tup[-2])
     ```

     

   + 支持切片操作

     ```python
     l = [1, 2, 3, 4]
     
     tup = (11, 22, 33, 44)
     
     print(l[0:2])
     
     print(tup[1:3])
     ```

     

   + 列表和元组可以随意嵌套

     ```python
     l = [[1,2,3],[44,55]]
     
     tup = ((7,8,9),(11,203))
     ```

     

   + 列表和元组可以相互转换

     ```python
     # list 转换为tuple
     l = [1, 2, 3]
     t = tuple(l)
     print(t)
     
     # tuple 转换为list
     t1 = (7,8,9)
     l2 = list(t1)
     print(l2)
     ```

     

   + 常用内置函数

     ```python
     l = [3, 2, 3, 7, 8, 1]
     l.count(3) # 返回元素个数
     
     l.index(7) # 返回元素第一次出现的索引
     
     l.reverse() # 颠倒
      
     l.sort() # 排序
      
     tup = (3, 2, 3, 7, 8, 1)
     tup.count(3)
     
     tup.index(7)
     
     # reversed 返回倒转后的列表/元组
     list(reversed(tup))
     
     # sorted 返回倒转后的列表/元组
     sorted(tup)
     [1, 2, 3, 3, 7, 8]
     ```

     





### 2-2 列表和元组存储方式的差异

```python
l = [1,2,3]
print(l.__sizeof__()) # 64

tup = (1,2,3)
print(tup.__sizeof__()) # 48

# 列表需要8个字节存放长度，8个字节存放指针
# tuple 类似c++的array
```

```python
# list 内存分配方式,类似vector
l = []
l.__sizeof__() # 40


l.append(1)
l.__sizeof__() # 72

l.append(2)
l.__sizeof__() # 72

l.append(3)
l.__sizeof__() # 72


l.append(4)
l.__sizeof__() # 72

l.append(5)
l.__sizeof__() # 104
```





### 2-3 列表和元组的性能

+ 元组性能比列表高



### 2-4 使用场景

***

+ 存储的数据数量不变，用元组

  ```python
  def get_location():
      return (longitude, latitude)
  ```

  

+ 存储数据数量可变，用列表

  ```python
  viewer_owner_id_list = [] # 里面的每个元素记录了这个 viewer 一周内看过的所有 owner 的 id
  records = queryDB(viewer_id) # 索引数据库，拿到某个 viewer 一周内的日志
  for record in records:
      viewer_owner_id_list.append(record.id)
  ```





## 3 字典和集合

***

### 3-1 字典和集合的基础

***

+ 集合是`key == value`的字典

+ 字典创建

  ```python
  d1 = {'name' : 'jason', 'age' : 20, 'gender' : 'male'}
  print(d1)
  
  
  d2 = dict({'name' : 'jason', 'age' : 20, 'gender' : 'male'})
  print(d2)
  
  d3 = dict([('name','jason'),('age', 20),('gender','male')])
  print(d3)
  
  d4 = dict(name='jason', age=20, gender='male')
  print(d4)
  
  print(d1 == d2 == d3 == d4)
  ```

+ 集合创建

  ```python
  s1 = {1, 2, 3}
  
  s2 = set([1, 2, 3])
  
  print(s1)
  
  print(s2)
  
  print(s1 == s2)
  ```

+ 字典的访问

  ```python
  d = {'name' : 'jason', 'age' : 20}
  
  print(d['name'])
  print(d.get('age'))
  print(d.get('location', 'null'))
  ```

+ 判断元素是否在集合/字典内

  ```python
  
  # 使用in 操作,非常简洁
  s = {11, 22, 33}
  
  print(11 in s)
  
  print(12 in s)
  
  d = {'name' : 'jason', 'age' : 20}
  
  print('name' in d)
  
  print('location' in d)
  ```

+ 增加，更新和删除

  ```python
  # dict 的增加，更新和删除
  d = {'name': 'jason', 'age': 20}
  d['dob'] = '1999-02-01' # 增加
  
  d['dob'] = '1998-01-01' # 更新
  d.pop('dob') 						# 删除键为'dob'的元素对
  
  # set 的增加和删除
  s = {1, 2, 3}
  s.add(4) 		# 增加4
  print(s)
  s.remove(4) # 删除4
  print(s)
  ```

+ 排序

  + dict排序

    ```python
    d = {'b' : 1, 'a' : 2, 'c' : 10}
    d_sorted_by_key = sorted(d.items(), key = lambda x : x[0])
    d_sorted_by_value = sorted(d.items(), key = lambda x : x[1])
    
    print(d_sorted_by_key)
    
    print(d_sorted_by_value)
    ```

    

  + set排序

    ```python
    s = {3, 4, 1, 2}
    
    sorted(s)
    
    print(s)
    ```

    



### 3-2 字典和集合性能

***

+ 查找`O(1)`
+ 插入`O(1)`



### 3-3 字典和集合工作原理

***

+ 存贮结构

  ```
  类似哈希拉连法
  ```

  

+ 插入操作

  ```shell
  类似哈希表的插入
  ```

  

+ 查找操作

  ```shell
  计算哈希值然后在链表中查找
  ```

  

+ 删除操作

  ```
  赋予特殊值，重新调整哈希表大小再删除
  ```

  