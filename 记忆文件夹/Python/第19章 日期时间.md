# 日期时间

## 1 相关类

1. date

   > 日期对象，常用属性有year，month和day

2. time

   > 时间对象

3. datetime

   > 日期时间对象，常用属性对象有hour，minute，second和microsecond

4. timedelta

   > 两个时间点间的时间间隔

5. tzinfo

   > 时区信息对象



## 2 date类

1. 构造

   ```python
   d = datetime.date(year=2020, month=10, day=25)
   ```

2. 常用方法

   > + 比较大小
   >
   >   ```shell
   >   # 等于
   >   a.__eq__(b)
   >   
   >   # 大于等于
   >   a.__ge__(b)
   >   
   >   # 大于
   >   a.__gt__(b)
   >   
   >   # 小于等于
   >   a.__le__(b)
   >   
   >   # 小于
   >   a.__lt__(b)
   >   
   >   # 不等于
   >   a.__ne__(b)
   >   ```
   >
   > + <font color="deep pink">获取两个日期相差多少天</font>
   >
   >   ```python
   >   d1 - d2
   >   ```
   >
   > + 标准化日期
   >
   > + <font color="deep pink">其它方法</font>
   >
   >   > 1. **timetuple**
   >   >
   >   >    ```shell
   >   >    # 返回一个类型为time.struct_time的数组
   >   >    ```
   >   >
   >   > 2. **fromtimestamp**
   >   >
   >   >    ```shell
   >   >     # 根据给定的时间戮，返回一个date对象
   >   >    ```
   >   >
   >   > 3. **today**
   >   >
   >   >    ```shell
   >   >    # 返回当前日期
   >   >    ```
   >
   > + 日期字符串输出



## 3 time类







## 4 datetime类

1. 示例

   ```python
   # 字符串转为datetime param:202003161155
   def to_datetime(param):
       d = datetime.datetime.strptime(param, '%Y%m%d%H%M')
       return d
   
   # datetime转为时间戳
   def to_timestamp(param):
       return int(time.mktime(param.timetuple()))
   ```

   ```python
   # 将iso格式的字符串转换为datetime
   d1 = datetime.datetime.fromisoformat('2020-04-28T04:03:10')
   d2 = datetime.datetime.fromisoformat('2020-04-28T04:03:25')
   # 计算两个日期间隔的秒数
   t = (d2 - d1).seconds
   ```
   
   



# 常见问题

## 1 获取昨天的日期

```python
def get_yesterday():
    timestamp   : int           = time.time()
    today       : datetime.date = datetime.date.fromtimestamp(timestamp)
    yesterday   : datetime.date = datetime.date.fromtimestamp(timestamp - 24 * 60 * 60)
    return yesterday.isoformat()
```

