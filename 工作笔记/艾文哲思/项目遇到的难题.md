1. redis和mysql现在是用ip连接，改成域名

2. C++实现域名解析为IP

3. 框架和业务服MySQL用IP和端口配置，数据库迁移时要修改大量的配置文件,用域名替换

4. 框架和数据库和业务服务部署在不同的机器A,B,C上，避免负载过大导致响应慢。开发机上面，数据库单独一台机器，业务+框架另外一台机器

5. 磁盘空间不足，需要重新挂载一块数据盘，如何挂载?开发机数据和软件安装包应该放在不同磁盘上面,如何监控磁盘使用的空间?

6. 内网开发机数据库更新，比如增加/删除数据，表结构修改，增加库，如何增量修改到外网？

7. 内网更新如何增加替换到外网

   ```shell
   1. 搭建svn服务器
   2. 每次更新提交到svn上面，记录版本号
   3. 把svn的内容发布到外网
   ```

8. centos系统无法关闭

   ```shell
   某些软件阻止系统关闭，必须这些软件停止
   ```

9. 服务的日志查看困难

   ```shell
   服务的对外接口或者RPC内部接口，必须打印输入参数,否则日志难以查看!!
   ```

10. 业务代码混乱，如何解决[多种业务混在一起]

    ```shell
    1. 一个函数里有多个业务，每个业务代码分开，不要有耦合关系
    2. 每一个步骤分解为一个函数
    ```

    

11. 测试用的机器和开发的必须分开，否则会出现测试通过的bug反反复复

12. tars的服务，监听的地址，写死了网卡的ip，因为127.0.0.1：8080 与192.168.0.1:8080 用途不一致，导致部署新机器需要修改大量配置文件

13. 配置文件用excel，无法与历史文件对比，可以用json或者xml替换

14. 策划用excel制作配置，然后导出为xml或者json，然后提交到svn上面，最后再通过管理后台发布新的配置文件到数据库里面

15. ios支付校验，内网的curl需要使用代理，外网不需要，如何解决

    ```shell
    # 1 
    用环境变量标识是否使用代理
    # 2 
    使用配置文件,不过每次发布都需要修改配置-->不推荐
    # 3
    从数据库读取配置,只需第一次发布外网的时候写入值
    ```

16. python脚本在centos上测试麻烦，只能打印日志定位错误

    ```
    可以在windows上测试，通过后再放到linux上面运行,比如仅仅涉及到文件操作的脚本
    ```

17. 发布外网测试注意事项

    ```shell
    # 1
    
    1.1:把数据库(redis和MySQL)清空,因为里面保存用户状态,旧状态经常无法与新代码兼容
    1.2:存放配置的数据库与内网一致,其它数据库和表清空
    
    # 2
    重启全部服务
    
    # 3
    绝对不可以无脑直接把内网数据库导入外网中
    ```

18. 如何方便查看外网的日志??