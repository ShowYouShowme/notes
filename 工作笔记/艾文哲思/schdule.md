- [ ] 如何保存多个终端的history命令
- [ ] 学习C++的future和promise
- [ ] 阅读项目代码dz、roomserver、[userinfoserver]、[loginserver]
- [ ] [tars_cpp_user_guide.md](https://github.com/TarsCloud/TarsCpp/blob/master/docs/tars_cpp_user_guide.md)
- [ ] [tars_push.md](https://github.com/TarsCloud/TarsCpp/blob/49b96f7a74ce96c411be280f34b55bc80f3d9497/docs/tars_push.md)
- [ ] 学习IM相关，里面有很多技术含量特别高的地方！！！
- [ ] 配置MySQL各种日志文件的路径，配置MySQL数据的路径
- [ ] 看懂写DataProxy的接口
- [ ] 弄懂dataproxy和dbAgent的原理，如何缓存如何写入DB等
- [ ] 有时间读一下tars生成的proto.h 和 Servant.h里面的代码
- [ ] 阅读router代码
- [ ] 带条件的查询，dataproxy应该无法缓存吧，因为条件可以更换！！！--阅读代码验证自己的观点
- [ ] 如果在makefile里面指定CONFIG，会把配置文件打包，那么发布的时候是不是不需要手动指定配置文件了呢
- [ ] E_REDIS_WRITE 默认是更新操作，更新用户信息貌似是不带条件的，查看log试试看sql语句是怎样的
- [ ] 查看一个服务被rpc调用的接口，然后每个服务只需要阅读onRequest 和被rpc调用的接口即可
- [ ] 查看MySQL全部的表结构
- [ ] wbl::ReadLocker lock(m_rwlock); 是什么玩意儿？？？
- [ ] 查看protocols里面的全部文件，对项目有个整体的了解
- [ ] 多线程学习，文件锁，变量锁等要理解
- [ ] makefile编译前检测文件是否为UTF-8编码，否则报错；检测换行符是否为Linux换行符
- [ ] shell脚本执行前检测换行符
- [ ] 看看用web发布，部署，更改配置之类的，Node.js到底做了什么事情
- [ ] 家里的电脑与公司电脑通信
- [ ] LIST 数据结构在dataProxy里面的处理流程，包括读和写,这里面的逻辑比较复杂
- [ ] 浏览器与node.JS的服务通信，那Node.js如何对游戏服务器发起RPC调用呢
- [ ] 公司的电脑开启指定端口，每隔一段时间把IP传到阿里云,然后家里的电脑就可以得到公司的IP，进而连接公司的代理服务器了哈哈哈
- [ ] 编译时检测源文件编码格式，换行符，TAB和空格转换  代码自动格式化(类似golang)
- [ ] 写MySQL时，TField只需要填colName、colType和colValue这3个字段；读MySQL呢？只写Reids和只读Redis呢？？？
- [ ] 写一个接口，简化写数据库和读数据库的操作，参考PHP的操作
- [ ] 不要抱怨，尽力把事情做到完美
- [ ] gdb attach 调试失败，查看具体的原因！！！！！！！！！！！！
- [ ] 邮件要考虑到分页查询的问题
- [ ] 邮件的API的接口要改一下
- [ ] 项目用gcc  attach 出错，检查到底是什么问题
- [ ] redis 的读和写字段如何传入呢？？？？？？？？？？？？？？
- [ ] 重新设计邮件的表结构
- [ ] 简化TField的赋值过程，比如插入数据的时候，如何方便一点呢？不需要写那么多的代码
- [ ] 邮件分页的处理
- [ ] 重新设计好友系统的表结构，类似邮件
- [ ] 审视之前的表，看看是否需要重新设计
- [ ] 用python模拟网页登录，保存coockie的过程，模拟真实玩家的操作
- [ ] 阅读OuterProxyFactory类，和其中一些锁相关的代码及其封装
- [ ] 阅读pthread_util.h，理解里面关于锁的封装
- [ ] 仔细学习命名规则，变量函数之类的
- [ ] 阅读TC_Monitor
- [ ] 阅读.tars文件生成的代码是怎么样的，啊哈哈哈哈哈哈哈哈哈哈哈哈哈
- [ ] 想办法让部署更轻松：1：打包  2：配置文件  3：数据库  4：创建服务
- [ ] 发配置文件时，先用beyond compare进行对比
- [ ] 复习条件变量和锁进行多线程开发
- [ ] 学习汇编语言编程
- [ ] make release 项目直接发布tars文件只调试接口 
- [ ] 自己部署全部服务器，包括数据库的导入和数据的导入









# 2019-10-10

- [ ] 记录redis读写相关的操作
- [ ] 每个接口，要打印传入和传出的参数，方便阅读log日志
- [ ] 分页读取MySQL
- [ ] 部分项目无法调试，比如DBAgent和DataProxy,看看如何解决问题
- [ ] 重新审视邮件系统的代码
- [ ] 道具系统获取道具的日志表和设计和功能实现 
- [ ] 通知服务 
- [ ] 重新读一遍文档[可选]
- [ ] Python脚本自动在项目下创建`.gitignore`文件来忽略某些文件和类型
- [ ] 1：警告去掉 2：剩余的bug
- [ ] 有时间要系统学习多线程的编程！！！！！！！！！[重点]





# 2019-10-22

2. 看完router的代码
3. Excel转换为XML的Python脚本
3. 理解框架的线程关系，比如业务线程等等等
5. redis 的范围查询如何处理的，比如一个key对应多个value的情况，像好友，邮件啥的



# 2019-10-23

2. C++ 全部访问集合(vector，map)之类的地方，都用at成员函数，然后捕获out_of_range异常，出现异常先打印错误信息，再结束程序的运行！
4. 整理g++常见的编译错误
5. 抛出异常，terminal代码的地方，记得打印传入的参数，已经涉及到的集合数据内容
7. 涉及到读/写  集合的地方都可能crash，小心



# 2019-10-29

1. 用ISO里面的包搭建本地yum测试，查看安装速度以及是否缺少部分包 ==> 不是很重要 ==>用ISO搭建的环境报错，非常奇怪

2. 过滤ISO里面的包，只剩下rmp -qa里面的包，到新的环境安装[整个ISO包数量太多] ==>不是很重要

3. C++ crash的处理

4. 阅读router的全部代码

5. 异常代码，看看out_of_range 在最外面能不能被捕获到，并且打印出错误的信息；在抛出异常的地方记得打印信息

6. 阅读comm文件夹里面的全部代码

7. 错误处理方式用异常替代错误码，并且对比两种方式

8. 之前的需求，配置全部统一从DB里面获取，方便以后管理

9. 将VsiualGDB 开发的配置记录到MarkDown里面，日后方便查阅；比如include目录添加，第三方库的添加等等

10. 整理读写redis的逻辑过程，比如如何传入参数(针对不同的数据结构，目前使用较多的是hash)，整个流程是怎么样的啊

11. 读完globe.h 这个文件里面的内容

16. 部署的时候，外网被gwf block，考虑使用广州的机器或者用ssh跳板

17. 可执行文件和配置文件拷贝到外网机器，dbagent里面的ip地址要修改， config里面的ip地址也需要修改；可以用notepad++搜索全部的IP地址，然后进行替换即可

18. 相关自动化脚本

    > 7. 如果线上的服务未部署，模拟web管理后台http请求部署服务，并上传包、
    > 8. [高级---可选脚本]模拟web发布，以及上传配置文件，push配置文件的过程，做到一键部署
    
19. 学习使用fiddler来抓包，这个和wireshark不太一样！！！

20. ftp服务的部署，已经用户权限的设置

21. 用wireshark抓包ftp，来分析和理解ftp的网络协议

18. 将visualGDB的用法-->记录到md文档里面去

19. SYN-FLOOD 源码实现

20. 用防火墙禁止本机 指定端口出站/进站；或者服务器指定端口出站/进站，然后用wireshark抓包看看是表现是怎么样的？？

21. 如何让服务器在12点的时候触发某个事件，让任务重新刷新？？？？？？？

22. 去掉代码里的全部warning，这是最基本的要求

23. 写个脚本将日志转换为JSON。业务逻辑出错设置返回值，并且直接抛出异常即可

24. 定义处理越界的宏

25. 处理错误的方式：返回值 + 异常 组合使用；出错先打印日志，然后再抛出异常在最外层处理

26. 时间通过redis来读取，然后可以用python或者node.js来配置时间了，在CPP的代码里面就使用宏定义获取时间即可

27. 改造代码风格，最外层PRC接口用异常捕获，PRC接口调用到的函数出错直接抛出异常，在PRC接口里面不需要再次判断返回值了

28. 全部用到数据类型TaskRecordItem 的地方的代码都需要修改，因为增加了新的字段

29. 任务系统从configServer服务获取到配置文件时，立即改为自己的数据格式，方便操作；而不是使用configServer的数据格式

30. for循环尽量用stl的算法来操作

31. RPC接口里面抛出异常,要返回错误码，因此修改宏定义__CATCH__

32. 第一次写入mysql时，会写入redis吗？数据类型为hash







# 2019-11-15

1. 仔细阅读dataProxy 和DBAgent 以及Router的代码；读懂了上面三个之后开始阅读room和游戏业务的代码
2. 每次增加新服务，都需要修改router的代码，看看能不能进行优化
3. 调试查看sCurServrantAddr 的值是多少？？？
4. 使用原生的try  ... catch
5. RPC 协议实现原理，自己实现RPC的调用，使用腾讯的**TarsTup**
6. 用C++服务器看一看tars的管理后台上传的包的数据是什么格式的
7. 单例实现
8. 用C++可变参数来精简代码
9. 解码java请求出错，打日志
21. 用自己的http服务器测试curl的post请求数据是否正确





# 2019-11-28

2. 会使用libcur进行http请求，总结cur的用法，总结python发http请求的用法
3. 开始实现具体的业务需求
4. 自己搭建局域网的DNS服务器，自己测试是否能指定用TCP 协议或者UDP协议来进行DNS查询
5. python用multipart/form-data 编码方式实现文件的上传
6. 分析https交互过程，用wireshark





# 2019-11-29

读懂TC_Singleton相关的代码实现





# 2019-12-2

- [ ] 获取道具列表的接口，需要返回金币和钻石吗？
- [ ] RPC调用出错会抛出异常的
- [ ] gm后台调用有问题，不要直接丢包，返回错误信息
- [ ] 数字进行校验，如果是负数则返回错误提示
- [ ] 重新组织gm代码，每个业务用namespace区分，namespace有request和response类，然后有一个handler函数
- [ ] 拷贝服务器代码+数据库+客户端，在家里可以部署阅读代码
- [ ] 有时间学习BOOST库，比如里面的网络库，如何快速搭建一个服务器？
- [ ] 自己搭建[gitlab](https://www.jianshu.com/p/ade38a53b1ac)
- [ ] 对照家里的C++标准库来系统看一遍C++的参考文档，知道C++有哪些好用的功能
- [ ] 所有加载配置的地方，支持在线更改配置
- [ ] gm请求报错在异常捕获的地方返回错误信息给客户端
- [ ] 编码解码失败增加错误提示
- [ ] RPC调用用函数包起来，如果返回不为0或者出现异常就捕获异常然后抛出异常，这样会简化代码
- [ ] 改了config服务的配置后，如何让全部依赖他的服务重新加载配置文件呢
- [ ] mysql 第二次插入失败失败
- [ ] 管理后台插入和修改的接口分开，让代码更加简洁；增/删/改/查 分开
- [ ] curl 下载的静态页面，把里面的资源url转换为绝对路径，比如css，script，图片等



# 2019- 12-6

- [ ] 金猪的GM配置
- [ ] 查询GM操作记录以及相应的表
- [ ] 更改和插入的接口分开；每个业务有查询、增加、删除和更改四个接口
- [ ] 去掉gm的request 里面的序列化函数；去掉response 里面的反序列化函数；这些代码都是多余的
- [ ] gmServer相应用vector<char>,看如何优化为string
- [ ] 部署脚本里面自动更改room的在数据库里面的配置文件
- [ ] 像比如区域之类的功能没有，管理后台又需要，这样的需求怎么处理呢？就像A依赖于B，结果现在B还缺少，如何处理这样的需求呢？



# 2019-12-07

- [ ] 每个模块增加查询和删除的功能
- [ ] 记录gm的操作到一个表，表的字段是id，bussType，optUser，optDetail
- [ ] 如果暂时用不到客户端的字段，可以不处理；新加字段及时提醒客户端
- [ ] 总结模板报错信息1：实例化时传入的类型 2：找不到匹配的函数，会试图类型转换，然后转换失败
- [ ] 商城现在没有平台，因此只默认为0
- [ ] 所有的配置，config那边应该原样读取数据库，具体解析过程放置相关的服务器，比如商城
- [ ] 客户端请求商品列表时，根据ID获取到其所在的地区，然后根据地区给予相应的配置列表





# 2019-12-09

1. 增加表，记录gm的操作
2. 完成商城配置的gm功能
3. 实现其他操作；比如查询，删除和更改；和广州协商：更改和insert的协议分开
4. gm代码重构
5. 签到累计天数
7. 主键为NULL则为插入，否则为更新；更新和插入返回一样的字段
8. 删除返回null
9. 插入记录时createDate 我这边生成，客户端传Null过来；修改记录，创建时间客户端会传过来
10. 写不了的业务直接留接口；比如地区的查询
11. 商城增加optUser 和 createDate 两个字段
11. // TODO 插入、删除、和更改需要返回影响的函数
12. response 不需要定义类型；可以直接用vector<map<string, string>>来序列化为json
13. 返回全部用string类型，看看客户端能不能解析
14. 利用宏序列化的部分，看看能不能python自动生成
15. 查询请求里会附带pageIndex和pageSize字段
16. 删除请求里面的序列化函数和响应里面的反序列化函数；这些都是多余的
17. 测试JSON 的NULL
18. 删除的时候resultData、totalItems和totalPages传入NULL；我更改了序列化的函数
19. createDate 插入的时候客户端传入NULL，修改会带过来；这个字段先不处理
20. 插入的请求id和createDate为NULL；插入成功后全部字段返回
21. 更改请求时id肯定不为NULL，其它字段可能为NULL；更改成功后全部字段返回
22. RPC 失败后的处理可以用宏，少写一些代码
23. mysql里如果字段为NULL，tars返回的vector<map<string, string>> 里面是如何表示的呢，毕竟NULL 和 “”  不是一个意思
24. 道具服务里面的道具从数据库中读取
25. 个人邮件只有：发送邮件和查询管理员操作记录两样操作
26. 更改了序列化和反序列化函数；序列化的时候绝对不会失败，但是反序列化可能失败，因为数据是客户端传过来的
28. 道具的配置放到数据库里面去，然后在数据库里面读取
29. 重构获取商城配置的代码---太恶心了
29. 23001 的插入，area可以不传入值，WHERE 语句应该只有传入字段的时候才有，需要更改代码
30. 插入道具奖励配置的代码需要修改





# 2019-12-12

1. RCP调用，如果resp里应该有statusMsg，出错的话描述错误信息,单纯到返回值太模糊
2. 查询的地方都会有pageIndex和pageSize；插入和修改的地方有optUser，删除就只有主键字段
3. 增/删/改/查  全部用mall里面的代码模板
4. 查询请求里面的startDate 和endDate 应该可以去掉吧
5. configServer返回的map 里面的字段是数据库的字段名，全部用小写，但是gm这边是驼峰，如何处理呢
6. 插入记录，如果出现唯一索引/主键冲突，提示信息要友好些
7. gm管理后台的查询没有optUser字段
8. top命令的数据查看





# 2019-12-17

1. Linux安装libcurl和openssl；nginx加上https

6. 把各种包和C++第三方库的安装，汇总到一个文件，方便日后查阅

7. 利用可变模板参数和初始化列表构造map数据类型

8. protobuf 解码失败会抛出异常还是结束进程还是返回错误码呢？

9. 阅读全部的express 文档，学习其的基本用法。。。。。

10. 上传文本数据没问题，上传图片解码有问题。express自己实现的代码

12. 关于异常

    > + rpc接口必须捕获异常，出异常后返回值为-1；类型http错误返回错误码，并且提示错误信息
    > + 转发接口必须捕获异常，响应设置resultCode为-1
    > + onRequest 或许可以不用捕获异常？？ 难道protobuf解码出错会抛出异常?
    > + 其它函数不用捕获异常

13. 局域网的服务器增加https的支持；增加域名转换为ip地址的支持

14. 改商场的ID，增加产品ID;CONFIG 服务一律返回vector<map<string, string>>;然后在具体的业务服务里面解析

15. 订单服务的代码接口可以当成模板，以后其它的服务都照着它来实现

18. 订单服务增加一个表，存放用户的交易记录

19. 打印log封装为JSON，用rapjson + 模板 + 可变参数

19. 订单校验的时候校验玩家UID是否一致

20. 订单校验通过后返回json，区分是商城购买还是金猪；订单成功后发送

21. 接口要打印用户传入的参数并且进行参数的校验

22. makefile 只依赖cpp，不依赖头文件，改一下

23. 学习OpenSSL库的使用，用C++调用OpenSSL来加密数据

25. 用MySQL存储配置文件，因为某些配置可能为null， 而C++的整数无法表示null，因此可以用string表示比较好，写入和读出来的时候记得把前面和后面的空白去掉即可！或者可以自己封装CInteger和CString

26. config服务可以不用解析配置文件；或者全部解析都在config服务里面，然后其他的服务都用config服务的数据接口即可

27. 理解https的加密和解密的过程；设计到对称加密和非对称加密

28. 读取配置文件的数据类型最好自己包装一下CInteger和CString，因为配置可能为null，而C++的int和string之类的基础数据类型没有null

29. Post请求，头部和body在参数里面传入；Get请求，url和参数从外面传入





# 2020-01-02

1. 部署香港服务器
2. 用vs 调试so
3. 香港服务器的private Key用正式版本的，去掉libcurl的代理
4. 弄懂dz和room的代码结构
5. mysql数据库连接数太多，如何处理？？？？

